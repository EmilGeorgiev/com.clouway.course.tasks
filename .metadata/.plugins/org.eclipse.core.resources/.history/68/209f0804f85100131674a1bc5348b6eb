package listitems;

public class ListItems implements ListOperacion {
	private Object[] arrayList;
	private static int lenght;
	
	public Object getObject(int value) {
		return arrayList[value];
	}

	public ListItems(int lenghtOfArrayList) {
		arrayList = new Object[lenghtOfArrayList];
		setLenght(lenghtOfArrayList);
	}

	/**
	 * Check that the item list is full.
	 * 
	 * @return true if item list is full or false if not.
	 */
	private boolean isFull() {
		boolean result = true;
		for (int i = 0; i < arrayList.length; i++) {
			if (arrayList[i] == null) {
				result = false;
			}
		}
		return result;
	}

	/**
	 * Adds an element to the end of the list.
	 * 
	 * @param value
	 *            is value added.
	 * @return true if new value is added or false if not.
	 */
	@Override
	public boolean add(Object value) {
		if (isFull()) {
			try {
				throw new FullArrayException();
			} catch (FullArrayException e) {
				System.out.println("Array is full and can not add more elements");
				e.printStackTrace();
			}
			return false;
		}
		for (int i = 0; i < arrayList.length; i++) {
			if (arrayList[i] == null) {
				arrayList[i] = value;
				break;
			}
		}
		return true;
	}

	/**
	 * Removes the last item in the list.
	 * 
	 * @return true if operation is successful or false if not.
	 */
	@Override
	public boolean remove() {
		if (isEmpty()) {
			try {
				throw new EmptyArrayException();
			} catch (EmptyArrayException e) {
				System.out.println("The array is empty");
			}
		}
		for (int i = arrayList.length - 1; i >= 0; i--) {
			if (arrayList[i] != null) {
				arrayList[i] = null;
				return true;
			}
		}
		return false;
	}
	
	/**
	 * Check that the item list is empty.
	 * @return true if the array is empty or false is not.
	 */
	private boolean isEmpty() {
		boolean result = true;
		for (int i = 0; i < arrayList.length; i++) {
			if (arrayList[i] != null) {
				result = false;
			}
		}
		return result;
	}

	/**
	 * Print all list items.
	 */
	@Override
	public void printAllElements() {
		for (int i = 0; i < arrayList.length; i++) {
			System.out.println(arrayList[i] + " ");
		}

	}

	public static int getLenght() {
		return lenght;
	}

	public static void setLenght(int lenght) {
		ListItems.lenght = lenght;
	}

}
